<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Generating Realistic Item Parameters ‚Ä¢ IRTsimrel</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generating Realistic Item Parameters">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IRTsimrel</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/introduction_to_irtsimrel.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>Getting Started</h6></li>
    <li><a class="dropdown-item" href="../articles/introduction_to_irtsimrel.html">Introduction to IRTsimrel</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Core Functions</h6></li>
    <li><a class="dropdown-item" href="../articles/latent_distributions.html">Working with Latent Distributions</a></li>
    <li><a class="dropdown-item" href="../articles/item_parameters.html">Generating Realistic Item Parameters</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Calibration Algorithms</h6></li>
    <li><a class="dropdown-item" href="../articles/eqc_algorithm.html">Algorithm 1: EQC</a></li>
    <li><a class="dropdown-item" href="../articles/spc_algorithm.html">Algorithm 2: SPC</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Validation</h6></li>
    <li><a class="dropdown-item" href="../articles/validation.html">Validating Calibration Results</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/joonho112/IRTsimrel/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generating Realistic Item Parameters</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/joonho112/IRTsimrel/blob/HEAD/vignettes/item_parameters.Rmd" class="external-link"><code>vignettes/item_parameters.Rmd</code></a></small>
      <div class="d-none name"><code>item_parameters.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/joonho112/IRTsimrel" class="external-link">IRTsimrel</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code><a href="../reference/sim_item_params.html">sim_item_params()</a></code> function generates item parameters
(difficulty
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œ≤</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>
and discrimination
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œª</mi><annotation encoding="application/x-tex">\lambda</annotation></semantics></math>)
for IRT simulation studies. It is designed with four key principles:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Realistic difficulties</strong>: Integration with the Item
Response Warehouse (IRW) for empirically-grounded difficulty
distributions</li>
<li>
<strong>Correlated parameters</strong>: Support for the
empirically-observed negative correlation between difficulty and
discrimination</li>
<li>
<strong>Marginal preservation</strong>: The copula method preserves
exact marginal distributions</li>
<li>
<strong>Reliability targeting</strong>: A scale factor enables
subsequent calibration for target reliability</li>
</ol>
<p>This vignette covers:</p>
<ul>
<li>Sources for difficulty generation</li>
<li>Methods for discrimination generation</li>
<li>The difficulty-discrimination correlation</li>
<li>Generating multiple test forms</li>
<li>Integration with reliability-targeted calibration</li>
</ul>
</div>
<div class="section level2">
<h2 id="the-difficulty-discrimination-correlation">The Difficulty-Discrimination Correlation<a class="anchor" aria-label="anchor" href="#the-difficulty-discrimination-correlation"></a>
</h2>
<p>A critical finding from psychometric research is that item difficulty
and discrimination are <strong>negatively correlated</strong> in real
assessments (Sweeney et al., 2022). That is:</p>
<ul>
<li>Easy items
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œ≤</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>
low) tend to have higher discrimination
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œª</mi><annotation encoding="application/x-tex">\lambda</annotation></semantics></math>
high)</li>
<li>Difficult items
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œ≤</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>
high) tend to have lower discrimination
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œª</mi><annotation encoding="application/x-tex">\lambda</annotation></semantics></math>
low)</li>
</ul>
<p>This correlation, typically around
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>œÅ</mi><mo>‚âà</mo><mi>‚àí</mi><mn>0.3</mn></mrow><annotation encoding="application/x-tex">\rho \approx -0.3</annotation></semantics></math>,
has important implications:</p>
<ul>
<li>Ignoring it produces unrealistic simulation data</li>
<li>Standard independent generation misses this structural feature</li>
<li>The correlation affects test information functions</li>
</ul>
<p><code><a href="../reference/sim_item_params.html">sim_item_params()</a></code> handles this by default using the
<strong>copula method</strong> with <code>rho = -0.3</code>.</p>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<div class="section level3">
<h3 id="rasch-model">Rasch Model<a class="anchor" aria-label="anchor" href="#rasch-model"></a>
</h3>
<p>For the Rasch model, all discriminations are set to 1:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate 25 Rasch items with IRW difficulties</span></span>
<span><span class="va">items_rasch</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"rasch"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">items_rasch</span><span class="op">)</span></span>
<span><span class="co">#&gt; Item Parameters Object</span></span>
<span><span class="co">#&gt; ======================</span></span>
<span><span class="co">#&gt;   Model          : RASCH</span></span>
<span><span class="co">#&gt;   Source         : irw</span></span>
<span><span class="co">#&gt;   Items per form : 25</span></span>
<span><span class="co">#&gt;   Number of forms: 1</span></span>
<span><span class="co">#&gt;   Scale factor   : 1.000</span></span>
<span><span class="co">#&gt;   Centered       : Yes</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Difficulty (beta):</span></span>
<span><span class="co">#&gt;   Mean: -0.0000, SD: 0.7992, Range: [-1.484, 1.469]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pl-model">2PL Model<a class="anchor" aria-label="anchor" href="#pl-model"></a>
</h3>
<p>For the 2PL model, both difficulties and discriminations are
generated:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate 30 2PL items with correlated parameters</span></span>
<span><span class="va">items_2pl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"copula"</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">items_2pl</span><span class="op">)</span></span>
<span><span class="co">#&gt; Item Parameters Object</span></span>
<span><span class="co">#&gt; ======================</span></span>
<span><span class="co">#&gt;   Model          : 2PL</span></span>
<span><span class="co">#&gt;   Source         : irw</span></span>
<span><span class="co">#&gt;   Method         : copula</span></span>
<span><span class="co">#&gt;   Items per form : 30</span></span>
<span><span class="co">#&gt;   Number of forms: 1</span></span>
<span><span class="co">#&gt;   Scale factor   : 1.000</span></span>
<span><span class="co">#&gt;   Centered       : Yes</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Difficulty (beta):</span></span>
<span><span class="co">#&gt;   Mean: -0.0000, SD: 0.8357, Range: [-1.607, 1.463]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Discrimination (lambda, scaled):</span></span>
<span><span class="co">#&gt;   Mean: 1.0865, SD: 0.4031, Range: [0.590, 2.107]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Correlation (beta, log-lambda):</span></span>
<span><span class="co">#&gt;   Target (rho): -0.300</span></span>
<span><span class="co">#&gt;   Achieved Pearson : -0.330</span></span>
<span><span class="co">#&gt;   Achieved Spearman: -0.466</span></span></code></pre></div>
<p>Notice the <strong>achieved correlation</strong> between
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œ≤</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>Œª</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\log(\lambda)</annotation></semantics></math>
is close to the target of -0.3.</p>
</div>
</div>
<div class="section level2">
<h2 id="sources-for-difficulty-generation">Sources for Difficulty Generation<a class="anchor" aria-label="anchor" href="#sources-for-difficulty-generation"></a>
</h2>
<p><code><a href="../reference/sim_item_params.html">sim_item_params()</a></code> supports four sources for generating
item difficulties:</p>
<div class="section level3">
<h3 id="irw-item-response-warehouse">1. IRW (Item Response Warehouse)<a class="anchor" aria-label="anchor" href="#irw-item-response-warehouse"></a>
</h3>
<p>The <strong>recommended</strong> source for realistic simulations.
IRW provides empirically-grounded difficulty distributions based on
thousands of real assessment items.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items_irw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"rasch"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Examine difficulty distribution</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">items_irw</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">beta</span><span class="op">)</span></span>
<span><span class="co">#&gt;     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. </span></span>
<span><span class="co">#&gt; -1.48424 -0.54581 -0.08185  0.00000  0.48541  1.46931</span></span></code></pre></div>
<p><strong>Requirements</strong>: The <code>irw</code> package must be
installed:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install IRW package from GitHub</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"itemresponsewarehouse/irw"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parametric">2. Parametric<a class="anchor" aria-label="anchor" href="#parametric"></a>
</h3>
<p>Generate difficulties from a parametric distribution:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Normal distribution</span></span>
<span><span class="va">items_normal</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"rasch"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"parametric"</span>,</span>
<span>  difficulty_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    mu <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    sigma <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    distribution <span class="op">=</span> <span class="st">"normal"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Uniform distribution</span></span>
<span><span class="va">items_uniform</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"rasch"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"parametric"</span>,</span>
<span>  difficulty_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    mu <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    sigma <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    distribution <span class="op">=</span> <span class="st">"uniform"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="hierarchical">3. Hierarchical<a class="anchor" aria-label="anchor" href="#hierarchical"></a>
</h3>
<p>Joint bivariate normal generation following Glas &amp; van der Linden
(2003). Both
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>Œª</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\log(\lambda)</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œ≤</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>
are drawn from a multivariate normal:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mtable><mtr><mtd columnalign="center" style="text-align: center"><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Œª</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><msub><mi>Œ≤</mi><mi>i</mi></msub></mtd></mtr></mtable><mo stretchy="true" form="postfix">)</mo></mrow><mo>‚àº</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mrow><mo stretchy="true" form="prefix">(</mo><mtable><mtr><mtd columnalign="center" style="text-align: center"><msub><mi>Œº</mi><mi>Œª</mi></msub></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><msub><mi>Œº</mi><mi>Œ≤</mi></msub></mtd></mtr></mtable><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo><mrow><mo stretchy="true" form="prefix">(</mo><mtable><mtr><mtd columnalign="center" style="text-align: center"><msubsup><mi>œÑ</mi><mi>Œª</mi><mn>2</mn></msubsup></mtd><mtd columnalign="center" style="text-align: center"><mi>œÅ</mi><msub><mi>œÑ</mi><mi>Œª</mi></msub><msub><mi>œÑ</mi><mi>Œ≤</mi></msub></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><mi>œÅ</mi><msub><mi>œÑ</mi><mi>Œª</mi></msub><msub><mi>œÑ</mi><mi>Œ≤</mi></msub></mtd><mtd columnalign="center" style="text-align: center"><msubsup><mi>œÑ</mi><mi>Œ≤</mi><mn>2</mn></msubsup></mtd></mtr></mtable><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} \log(\lambda_i) \\ \beta_i \end{pmatrix} \sim N\left( \begin{pmatrix} \mu_\lambda \\ \mu_\beta \end{pmatrix}, \begin{pmatrix} \tau_\lambda^2 &amp; \rho \tau_\lambda \tau_\beta \\ \rho \tau_\lambda \tau_\beta &amp; \tau_\beta^2 \end{pmatrix} \right)</annotation></semantics></math></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items_hier</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"hierarchical"</span>,</span>
<span>  hierarchical_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,      <span class="co"># Means: (log-lambda, beta)</span></span>
<span>    tau <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">1</span><span class="op">)</span>,  <span class="co"># SDs</span></span>
<span>    rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span>         <span class="co"># Correlation</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">items_hier</span><span class="op">)</span></span>
<span><span class="co">#&gt; Item Parameters Object</span></span>
<span><span class="co">#&gt; ======================</span></span>
<span><span class="co">#&gt;   Model          : 2PL</span></span>
<span><span class="co">#&gt;   Source         : hierarchical</span></span>
<span><span class="co">#&gt;   Items per form : 25</span></span>
<span><span class="co">#&gt;   Number of forms: 1</span></span>
<span><span class="co">#&gt;   Scale factor   : 1.000</span></span>
<span><span class="co">#&gt;   Centered       : Yes</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Difficulty (beta):</span></span>
<span><span class="co">#&gt;   Mean: -0.0000, SD: 1.3077, Range: [-2.863, 2.109]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Discrimination (lambda, scaled):</span></span>
<span><span class="co">#&gt;   Mean: 1.0776, SD: 0.2710, Range: [0.720, 1.812]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Correlation (beta, log-lambda):</span></span>
<span><span class="co">#&gt;   Target (rho): -0.300</span></span>
<span><span class="co">#&gt;   Achieved Pearson : -0.345</span></span>
<span><span class="co">#&gt;   Achieved Spearman: -0.375</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="custom">4. Custom<a class="anchor" aria-label="anchor" href="#custom"></a>
</h3>
<p>Supply your own parameters directly:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Custom difficulties and discriminations</span></span>
<span><span class="va">items_custom</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"custom"</span>,</span>
<span>  custom_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    beta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>, length.out <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>    lambda <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1.2</span>, <span class="fl">10</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in cor(df$beta, log(df$lambda_unscaled)): the standard deviation is</span></span>
<span><span class="co">#&gt; zero</span></span>
<span><span class="co">#&gt; Warning in cor(df$beta, log(df$lambda_unscaled), method = "spearman"): the</span></span>
<span><span class="co">#&gt; standard deviation is zero</span></span>
<span><span class="co">#&gt; Warning in cor(data$beta, log(data$lambda_unscaled)): the standard deviation is</span></span>
<span><span class="co">#&gt; zero</span></span>
<span><span class="co">#&gt; Warning in cor(data$beta, log(data$lambda_unscaled), method = "spearman"): the</span></span>
<span><span class="co">#&gt; standard deviation is zero</span></span>
<span></span>
<span><span class="va">items_custom</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="co">#&gt;    form_id item_id       beta lambda lambda_unscaled</span></span>
<span><span class="co">#&gt; 1        1       1 -2.0000000    1.2             1.2</span></span>
<span><span class="co">#&gt; 2        1       2 -1.5555556    1.2             1.2</span></span>
<span><span class="co">#&gt; 3        1       3 -1.1111111    1.2             1.2</span></span>
<span><span class="co">#&gt; 4        1       4 -0.6666667    1.2             1.2</span></span>
<span><span class="co">#&gt; 5        1       5 -0.2222222    1.2             1.2</span></span>
<span><span class="co">#&gt; 6        1       6  0.2222222    1.2             1.2</span></span>
<span><span class="co">#&gt; 7        1       7  0.6666667    1.2             1.2</span></span>
<span><span class="co">#&gt; 8        1       8  1.1111111    1.2             1.2</span></span>
<span><span class="co">#&gt; 9        1       9  1.5555556    1.2             1.2</span></span>
<span><span class="co">#&gt; 10       1      10  2.0000000    1.2             1.2</span></span></code></pre></div>
<p>You can also provide functions that generate parameters:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items_custom_fn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"custom"</span>,</span>
<span>  custom_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    beta <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">0</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>    lambda <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">0</span>, <span class="fl">0.3</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="methods-for-discrimination-generation">Methods for Discrimination Generation<a class="anchor" aria-label="anchor" href="#methods-for-discrimination-generation"></a>
</h2>
<p>When using <code>source = "irw"</code> or
<code>source = "parametric"</code> with <code>model = "2pl"</code>, you
need to specify how discriminations are generated. Three methods are
available:</p>
<div class="section level3">
<h3 id="copula-method-recommended">1. Copula Method (Recommended)<a class="anchor" aria-label="anchor" href="#copula-method-recommended"></a>
</h3>
<p>The <strong>Gaussian copula</strong> method preserves exact marginal
distributions while achieving the target correlation:</p>
<p><strong>Algorithm</strong>:</p>
<ol style="list-style-type: decimal">
<li>Transform
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œ≤</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>
to uniform via empirical CDF:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo>=</mo><mtext mathvariant="normal">rank</mtext><mrow><mo stretchy="true" form="prefix">(</mo><mi>Œ≤</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">u = \text{rank}(\beta) / (n+1)</annotation></semantics></math>
</li>
<li>Transform to normal:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>Œ≤</mi></msub><mo>=</mo><msup><mi>Œ¶</mi><mrow><mi>‚àí</mi><mn>1</mn></mrow></msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>u</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">z_\beta = \Phi^{-1}(u)</annotation></semantics></math>
</li>
<li>Generate correlated normal:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>Œª</mi></msub><mo>=</mo><mi>œÅ</mi><mo>‚ãÖ</mo><msub><mi>z</mi><mi>Œ≤</mi></msub><mo>+</mo><msqrt><mrow><mn>1</mn><mo>‚àí</mo><msup><mi>œÅ</mi><mn>2</mn></msup></mrow></msqrt><mo>‚ãÖ</mo><msub><mi>z</mi><mtext mathvariant="normal">indep</mtext></msub></mrow><annotation encoding="application/x-tex">z_\lambda = \rho \cdot z_\beta + \sqrt{1-\rho^2} \cdot z_{\text{indep}}</annotation></semantics></math>
</li>
<li>Transform to uniform:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo>=</mo><mi>Œ¶</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>z</mi><mi>Œª</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">v = \Phi(z_\lambda)</annotation></semantics></math>
</li>
<li>Transform to log-normal:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Œª</mi><mo>=</mo><mo>exp</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>Œº</mi><mo>+</mo><mi>œÉ</mi><mo>‚ãÖ</mo><msup><mi>Œ¶</mi><mrow><mi>‚àí</mi><mn>1</mn></mrow></msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>v</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\lambda = \exp(\mu + \sigma \cdot \Phi^{-1}(v))</annotation></semantics></math>
</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items_copula</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"copula"</span>,</span>
<span>  discrimination_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    mu_log <span class="op">=</span> <span class="fl">0</span>,       <span class="co"># Mean of log(lambda)</span></span>
<span>    sigma_log <span class="op">=</span> <span class="fl">0.3</span>,  <span class="co"># SD of log(lambda)</span></span>
<span>    rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span>        <span class="co"># Target correlation</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check achieved correlation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Target rho: -0.30\n"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Target rho: -0.30</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Achieved Spearman: %.3f\n"</span>, </span>
<span>            <span class="va">items_copula</span><span class="op">$</span><span class="va">achieved</span><span class="op">$</span><span class="va">overall</span><span class="op">$</span><span class="va">cor_spearman_pooled</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Achieved Spearman: -0.191</span></span></code></pre></div>
<p><strong>Why Copula is Recommended</strong>:</p>
<ul>
<li>Preserves the exact IRW difficulty distribution</li>
<li>Guarantees log-normal marginal for discriminations</li>
<li>Achieves target <strong>Spearman</strong> correlation (robust to
non-normality)</li>
<li>Works well with any difficulty distribution shape</li>
</ul>
</div>
<div class="section level3">
<h3 id="conditional-method">2. Conditional Method<a class="anchor" aria-label="anchor" href="#conditional-method"></a>
</h3>
<p>Uses conditional normal regression:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Œª</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>‚à£</mo><msub><mi>Œ≤</mi><mi>i</mi></msub><mo>‚àº</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Œº</mi><mo>log</mo></msub><mo>+</mo><mi>œÅ</mi><mo>‚ãÖ</mo><msub><mi>œÉ</mi><mo>log</mo></msub><mo>‚ãÖ</mo><msub><mi>z</mi><msub><mi>Œ≤</mi><mi>i</mi></msub></msub><mo>,</mo><mspace width="0.278em"></mspace><msub><mi>œÉ</mi><mo>log</mo></msub><msqrt><mrow><mn>1</mn><mo>‚àí</mo><msup><mi>œÅ</mi><mn>2</mn></msup></mrow></msqrt><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\log(\lambda_i) \mid \beta_i \sim N\left(\mu_{\log} + \rho \cdot \sigma_{\log} \cdot z_{\beta_i}, \; \sigma_{\log}\sqrt{1-\rho^2}\right)</annotation></semantics></math></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items_cond</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"conditional"</span>,</span>
<span>  discrimination_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span><span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Achieved Pearson:  %.3f\n"</span>, </span>
<span>            <span class="va">items_cond</span><span class="op">$</span><span class="va">achieved</span><span class="op">$</span><span class="va">overall</span><span class="op">$</span><span class="va">cor_pearson_pooled</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Achieved Pearson:  -0.248</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Achieved Spearman: %.3f\n"</span>, </span>
<span>            <span class="va">items_cond</span><span class="op">$</span><span class="va">achieved</span><span class="op">$</span><span class="va">overall</span><span class="op">$</span><span class="va">cor_spearman_pooled</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Achieved Spearman: -0.207</span></span></code></pre></div>
<p><strong>Note</strong>: The conditional method assumes linear
relationships and normal errors. When IRW difficulties are non-normal,
achieved correlations may differ from targets.</p>
</div>
<div class="section level3">
<h3 id="independent-method">3. Independent Method<a class="anchor" aria-label="anchor" href="#independent-method"></a>
</h3>
<p>Generates discriminations independently of difficulties (no
correlation):</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items_indep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"independent"</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Achieved correlation: %.3f (expected: ~0)\n"</span>,</span>
<span>            <span class="va">items_indep</span><span class="op">$</span><span class="va">achieved</span><span class="op">$</span><span class="va">overall</span><span class="op">$</span><span class="va">cor_spearman_pooled</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Achieved correlation: 0.051 (expected: ~0)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="customizing-discrimination-parameters">Customizing Discrimination Parameters<a class="anchor" aria-label="anchor" href="#customizing-discrimination-parameters"></a>
</h2>
<p>The <code>discrimination_params</code> list controls the log-normal
distribution of discriminations:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Higher average discrimination</span></span>
<span><span class="va">items_high_disc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"copula"</span>,</span>
<span>  discrimination_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    mu_log <span class="op">=</span> <span class="fl">0.3</span>,     <span class="co"># E[lambda] ‚âà exp(0.3) ‚âà 1.35</span></span>
<span>    sigma_log <span class="op">=</span> <span class="fl">0.25</span>, <span class="co"># Less variation</span></span>
<span>    rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Mean lambda: %.3f\n"</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">items_high_disc</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">lambda</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Mean lambda: 1.435</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"SD lambda:   %.3f\n"</span>, <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">items_high_disc</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">lambda</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; SD lambda:   0.435</span></span></code></pre></div>
<div class="section level3">
<h3 id="understanding-the-parameters">Understanding the Parameters<a class="anchor" aria-label="anchor" href="#understanding-the-parameters"></a>
</h3>
<table style="width:100%;" class="table">
<colgroup>
<col width="33%">
<col width="27%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>mu_log</code></td>
<td>0</td>
<td>Mean of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>Œª</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\log(\lambda)</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ùîº</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Œª</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>‚âà</mo><mo>exp</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Œº</mi><mo>log</mo></msub><mo>+</mo><msubsup><mi>œÉ</mi><mo>log</mo><mn>2</mn></msubsup><mi>/</mi><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbb{E}[\lambda] \approx \exp(\mu_{\log} + \sigma_{\log}^2/2)</annotation></semantics></math>
</td>
</tr>
<tr class="even">
<td><code>sigma_log</code></td>
<td>0.3</td>
<td>SD of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>Œª</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\log(\lambda)</annotation></semantics></math>.
Controls heterogeneity across items</td>
</tr>
<tr class="odd">
<td><code>rho</code></td>
<td>-0.3</td>
<td>Target correlation between
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Œ≤</mi><annotation encoding="application/x-tex">\beta</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>Œª</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\log(\lambda)</annotation></semantics></math>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="generating-multiple-test-forms">Generating Multiple Test Forms<a class="anchor" aria-label="anchor" href="#generating-multiple-test-forms"></a>
</h2>
<p>Generate multiple parallel forms with independent item samples:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items_5forms</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"copula"</span>,</span>
<span>  n_forms <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Total items: %d\n"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">items_5forms</span><span class="op">$</span><span class="va">data</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Total items: 100</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Items per form: %d\n"</span>, <span class="va">items_5forms</span><span class="op">$</span><span class="va">n_items</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Items per form: 20</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Number of forms: %d\n"</span>, <span class="va">items_5forms</span><span class="op">$</span><span class="va">n_forms</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Number of forms: 5</span></span>
<span></span>
<span><span class="co"># View first few rows</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">items_5forms</span><span class="op">$</span><span class="va">data</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;    form_id item_id        beta    lambda lambda_unscaled</span></span>
<span><span class="co">#&gt; 1        1       1 -0.31979479 0.9134159       0.9134159</span></span>
<span><span class="co">#&gt; 2        1       2 -0.13448739 1.1691256       1.1691256</span></span>
<span><span class="co">#&gt; 3        1       3  1.21101694 0.6461936       0.6461936</span></span>
<span><span class="co">#&gt; 4        1       4  0.07285940 1.2932730       1.2932730</span></span>
<span><span class="co">#&gt; 5        1       5 -1.41375360 1.2920870       1.2920870</span></span>
<span><span class="co">#&gt; 6        1       6  0.49929409 0.9477748       0.9477748</span></span>
<span><span class="co">#&gt; 7        1       7 -0.86741035 1.0869113       1.0869113</span></span>
<span><span class="co">#&gt; 8        1       8  0.71169376 0.9945658       0.9945658</span></span>
<span><span class="co">#&gt; 9        1       9  0.58379081 0.7129531       0.7129531</span></span>
<span><span class="co">#&gt; 10       1      10 -0.04531184 1.0322409       1.0322409</span></span></code></pre></div>
<div class="section level3">
<h3 id="per-form-statistics">Per-Form Statistics<a class="anchor" aria-label="anchor" href="#per-form-statistics"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Access per-form statistics</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">f</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">stats</span> <span class="op">&lt;-</span> <span class="va">items_5forms</span><span class="op">$</span><span class="va">achieved</span><span class="op">$</span><span class="va">by_form</span><span class="op">[[</span><span class="va">f</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Form %d: beta_mean=%.3f, lambda_mean=%.3f, cor=%.3f\n"</span>,</span>
<span>              <span class="va">f</span>, <span class="va">stats</span><span class="op">$</span><span class="va">beta_mean</span>, <span class="va">stats</span><span class="op">$</span><span class="va">lambda_mean</span>, <span class="va">stats</span><span class="op">$</span><span class="va">cor_spearman</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; Form 1: beta_mean=0.000, lambda_mean=1.027, cor=-0.540</span></span>
<span><span class="co">#&gt; Form 2: beta_mean=0.000, lambda_mean=1.152, cor=-0.202</span></span>
<span><span class="co">#&gt; Form 3: beta_mean=0.000, lambda_mean=1.109, cor=-0.320</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="the-scale-parameter">The Scale Parameter<a class="anchor" aria-label="anchor" href="#the-scale-parameter"></a>
</h2>
<p>The <code>scale</code> parameter is crucial for reliability-targeted
simulation. It multiplies all discriminations by a constant factor:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Œª</mi><mi>i</mi><mo>*</mo></msubsup><mo>=</mo><mi>c</mi><mo>‚ãÖ</mo><msub><mi>Œª</mi><mrow><mi>i</mi><mo>,</mo><mn>0</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\lambda_i^* = c \cdot \lambda_{i,0}</annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Œª</mi><mrow><mi>i</mi><mo>,</mo><mn>0</mn></mrow></msub><annotation encoding="application/x-tex">\lambda_{i,0}</annotation></semantics></math>
is the baseline discrimination and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>c</mi><annotation encoding="application/x-tex">c</annotation></semantics></math>
is the scale factor.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Baseline (scale = 1)</span></span>
<span><span class="va">items_base</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  scale <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Scaled up (scale = 1.5)</span></span>
<span><span class="va">items_scaled</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  scale <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Baseline mean lambda: %.3f\n"</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">items_base</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">lambda</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Baseline mean lambda: 1.026</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Scaled mean lambda:   %.3f\n"</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">items_scaled</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">lambda</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Scaled mean lambda:   1.539</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Ratio: %.2f\n"</span>, </span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">items_scaled</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">lambda</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">items_base</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">lambda</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Ratio: 1.50</span></span></code></pre></div>
<div class="section level3">
<h3 id="unscaled-lambda">Unscaled Lambda<a class="anchor" aria-label="anchor" href="#unscaled-lambda"></a>
</h3>
<p>The output always includes <code>lambda_unscaled</code> for
reference:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Both are stored</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">items_scaled</span><span class="op">$</span><span class="va">data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lambda"</span>, <span class="st">"lambda_unscaled"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;     lambda lambda_unscaled</span></span>
<span><span class="co">#&gt; 1 1.556978       1.0379855</span></span>
<span><span class="co">#&gt; 2 1.496971       0.9979810</span></span>
<span><span class="co">#&gt; 3 1.501281       1.0008540</span></span>
<span><span class="co">#&gt; 4 1.152807       0.7685377</span></span>
<span><span class="co">#&gt; 5 1.852231       1.2348209</span></span>
<span><span class="co">#&gt; 6 1.592726       1.0618176</span></span>
<span></span>
<span><span class="co"># Verify relationship</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span></span>
<span>  <span class="va">items_scaled</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">lambda</span>,</span>
<span>  <span class="va">items_scaled</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">lambda_unscaled</span> <span class="op">*</span> <span class="va">items_scaled</span><span class="op">$</span><span class="va">scale</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="centering-difficulties">Centering Difficulties<a class="anchor" aria-label="anchor" href="#centering-difficulties"></a>
</h2>
<p>By default, difficulties are centered to sum to zero (for model
identification):</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Default: centered</span></span>
<span><span class="va">items_centered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"rasch"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  center_difficulties <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Uncentered</span></span>
<span><span class="va">items_uncentered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"rasch"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  center_difficulties <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Centered mean:   %.6f\n"</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">items_centered</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">beta</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Centered mean:   -0.000000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Uncentered mean: %.6f\n"</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">items_uncentered</span><span class="op">$</span><span class="va">data</span><span class="op">$</span><span class="va">beta</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Uncentered mean: 0.018108</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="visualization">Visualization<a class="anchor" aria-label="anchor" href="#visualization"></a>
</h2>
<p>The <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method provides diagnostic
visualizations:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items_viz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"copula"</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Scatter plot with regression line</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">items_viz</span>, type <span class="op">=</span> <span class="st">"scatter"</span><span class="op">)</span></span>
<span><span class="co">#&gt; `geom_smooth()` using formula = 'y ~ x'</span></span></code></pre></div>
<p><img src="item_parameters_files/figure-html/plot-items-1.png" class="r-plt" width="768"></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Density plots</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">items_viz</span>, type <span class="op">=</span> <span class="st">"density"</span><span class="op">)</span></span></code></pre></div>
<p><img src="item_parameters_files/figure-html/plot-density-1.png" class="r-plt" width="768"></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Combined view (requires patchwork package)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">items_viz</span>, type <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="integration-with-eqc_calibrate">Integration with eqc_calibrate<a class="anchor" aria-label="anchor" href="#integration-with-eqc_calibrate"></a>
</h2>
<p>In the reliability-targeted simulation framework,
<code><a href="../reference/sim_item_params.html">sim_item_params()</a></code> is called internally by
<code><a href="../reference/eqc_calibrate.html">eqc_calibrate()</a></code>. You specify item generation settings
through the <code>item_source</code> and <code>item_params</code>
arguments:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># EQC automatically calls sim_item_params internally</span></span>
<span><span class="va">eqc_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eqc_calibrate.html">eqc_calibrate</a></span><span class="op">(</span></span>
<span>  target_rho <span class="op">=</span> <span class="fl">0.80</span>,</span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  latent_shape <span class="op">=</span> <span class="st">"normal"</span>,</span>
<span>  item_source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>  item_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    discrimination_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      mu_log <span class="op">=</span> <span class="fl">0</span>,</span>
<span>      sigma_log <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>      rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The calibrated items are accessible</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">eqc_result</span><span class="op">$</span><span class="va">items_calib</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="accessing-calibrated-items">Accessing Calibrated Items<a class="anchor" aria-label="anchor" href="#accessing-calibrated-items"></a>
</h3>
<p>After calibration, you can access both baseline and calibrated item
parameters:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Baseline items (scale = 1)</span></span>
<span><span class="va">items_base</span> <span class="op">&lt;-</span> <span class="va">eqc_result</span><span class="op">$</span><span class="va">items_base</span></span>
<span></span>
<span><span class="co"># Calibrated items (scale = c*)</span></span>
<span><span class="va">items_calib</span> <span class="op">&lt;-</span> <span class="va">eqc_result</span><span class="op">$</span><span class="va">items_calib</span></span>
<span></span>
<span><span class="co"># The calibration factor</span></span>
<span><span class="va">c_star</span> <span class="op">&lt;-</span> <span class="va">eqc_result</span><span class="op">$</span><span class="va">c_star</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="working-with-the-output-object">Working with the Output Object<a class="anchor" aria-label="anchor" href="#working-with-the-output-object"></a>
</h2>
<p>The <code>item_params</code> object contains rich information:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span>n_items <span class="op">=</span> <span class="fl">25</span>, model <span class="op">=</span> <span class="st">"2pl"</span>, source <span class="op">=</span> <span class="st">"irw"</span>, seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">items</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "data"     "model"    "source"   "method"   "n_items"  "n_forms" </span></span>
<span><span class="co">#&gt;  [7] "scale"    "centered" "params"   "achieved"</span></span>
<span></span>
<span><span class="co"># Extract as data frame</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">items</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;   form_id item_id         beta    lambda lambda_unscaled</span></span>
<span><span class="co">#&gt; 1       1       1 -0.390285351 1.0379855       1.0379855</span></span>
<span><span class="co">#&gt; 2       1       2 -0.204977951 0.9979810       0.9979810</span></span>
<span><span class="co">#&gt; 3       1       3  1.140526381 1.0008540       1.0008540</span></span>
<span><span class="co">#&gt; 4       1       4  0.002368838 0.7685377       0.7685377</span></span>
<span><span class="co">#&gt; 5       1       5 -1.484244154 1.2348209       1.2348209</span></span>
<span><span class="co">#&gt; 6       1       6  0.428803529 1.0618176       1.0618176</span></span>
<span></span>
<span><span class="co"># Achieved statistics</span></span>
<span><span class="va">items</span><span class="op">$</span><span class="va">achieved</span><span class="op">$</span><span class="va">overall</span></span>
<span><span class="co">#&gt; $n_total</span></span>
<span><span class="co">#&gt; [1] 25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $beta_mean</span></span>
<span><span class="co">#&gt; [1] -2.664535e-17</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $beta_sd</span></span>
<span><span class="co">#&gt; [1] 0.7991656</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lambda_mean</span></span>
<span><span class="co">#&gt; [1] 1.025717</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lambda_sd</span></span>
<span><span class="co">#&gt; [1] 0.3127527</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cor_pearson_pooled</span></span>
<span><span class="co">#&gt; [1] -0.2009709</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cor_spearman_pooled</span></span>
<span><span class="co">#&gt; [1] -0.3484615</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="comparison-of-methods">Comparison of Methods<a class="anchor" aria-label="anchor" href="#comparison-of-methods"></a>
</h2>
<p>Let‚Äôs compare the three discrimination generation methods:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span></span>
<span><span class="va">methods</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"copula"</span>, <span class="st">"conditional"</span>, <span class="st">"independent"</span><span class="op">)</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">m</span> <span class="kw">in</span> <span class="va">methods</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">results</span><span class="op">[[</span><span class="va">m</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>    n_items <span class="op">=</span> <span class="fl">200</span>,</span>
<span>    model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>    source <span class="op">=</span> <span class="st">"irw"</span>,</span>
<span>    method <span class="op">=</span> <span class="va">m</span>,</span>
<span>    discrimination_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.4</span><span class="op">)</span>,</span>
<span>    seed <span class="op">=</span> <span class="fl">123</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Compare achieved correlations</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Method Comparison (target rho = -0.4):\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Method Comparison (target rho = -0.4):</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"======================================\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ======================================</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">m</span> <span class="kw">in</span> <span class="va">methods</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%-12s: Pearson = %+.3f, Spearman = %+.3f\n"</span>,</span>
<span>              <span class="va">m</span>,</span>
<span>              <span class="va">results</span><span class="op">[[</span><span class="va">m</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">achieved</span><span class="op">$</span><span class="va">overall</span><span class="op">$</span><span class="va">cor_pearson_pooled</span>,</span>
<span>              <span class="va">results</span><span class="op">[[</span><span class="va">m</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">achieved</span><span class="op">$</span><span class="va">overall</span><span class="op">$</span><span class="va">cor_spearman_pooled</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; copula      : Pearson = -0.526, Spearman = -0.527</span></span>
<span><span class="co">#&gt; conditional : Pearson = -0.495, Spearman = -0.466</span></span>
<span><span class="co">#&gt; independent : Pearson = -0.077, Spearman = -0.045</span></span></code></pre></div>
<p>The copula method achieves the target Spearman correlation most
reliably.</p>
</div>
<div class="section level2">
<h2 id="summary-table-sources-and-methods">Summary Table: Sources and Methods<a class="anchor" aria-label="anchor" href="#summary-table-sources-and-methods"></a>
</h2>
<table class="table">
<thead><tr class="header">
<th>Source</th>
<th>Description</th>
<th>Best For</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>irw</code></td>
<td>Item Response Warehouse</td>
<td>Realistic simulations</td>
</tr>
<tr class="even">
<td><code>parametric</code></td>
<td>Normal/uniform difficulties</td>
<td>Controlled experiments</td>
</tr>
<tr class="odd">
<td><code>hierarchical</code></td>
<td>Joint MVN generation</td>
<td>Bayesian framework</td>
</tr>
<tr class="even">
<td><code>custom</code></td>
<td>User-supplied parameters</td>
<td>Specific scenarios</td>
</tr>
</tbody>
</table>
<table class="table">
<thead><tr class="header">
<th>Method</th>
<th>Preserves Marginals</th>
<th>Target Correlation</th>
<th>Notes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>copula</code></td>
<td>Yes</td>
<td>Spearman</td>
<td><strong>Recommended</strong></td>
</tr>
<tr class="even">
<td><code>conditional</code></td>
<td>No</td>
<td>Pearson</td>
<td>Assumes normality</td>
</tr>
<tr class="odd">
<td><code>independent</code></td>
<td>Yes</td>
<td>None (0)</td>
<td>No correlation</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="practical-recommendations">Practical Recommendations<a class="anchor" aria-label="anchor" href="#practical-recommendations"></a>
</h2>
<div class="section level3">
<h3 id="for-realistic-simulations">For Realistic Simulations<a class="anchor" aria-label="anchor" href="#for-realistic-simulations"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"irw"</span>,           <span class="co"># Use IRW</span></span>
<span>  method <span class="op">=</span> <span class="st">"copula"</span>,        <span class="co"># Preserve marginals</span></span>
<span>  discrimination_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    mu_log <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    sigma_log <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>    rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span>              <span class="co"># Empirical correlation</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="for-controlled-experiments">For Controlled Experiments<a class="anchor" aria-label="anchor" href="#for-controlled-experiments"></a>
</h3>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"parametric"</span>,</span>
<span>  difficulty_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mu <span class="op">=</span> <span class="fl">0</span>, sigma <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"conditional"</span>,</span>
<span>  discrimination_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    mu_log <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    sigma_log <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>    rho <span class="op">=</span> <span class="fl">0</span>                 <span class="co"># No correlation for clean design</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="for-bayesian-frameworks">For Bayesian Frameworks<a class="anchor" aria-label="anchor" href="#for-bayesian-frameworks"></a>
</h3>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_item_params.html">sim_item_params</a></span><span class="op">(</span></span>
<span>  n_items <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"2pl"</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"hierarchical"</span>,</span>
<span>  hierarchical_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    tau <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>    rho <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span></span>
<span>  <span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Glas, C. A. W., &amp; van der Linden, W. J. (2003). Computerized
adaptive testing with item cloning. <em>Applied Psychological
Measurement, 27</em>(4), 247-261.</p>
<p>Sweeney, S. M., et al.¬†(2022). An investigation of the nature and
consequence of the relationship between IRT difficulty and
discrimination. <em>Educational Measurement: Issues and Practice,
41</em>(4), 50-67.</p>
<p>Zhang, L., Fellinghauer, C., Geerlings, H., &amp; Sijtsma, K. (2025).
Realistic simulation of item difficulties using the Item Response
Warehouse. <em>PsyArXiv</em>. <a href="https://doi.org/10.31234/osf.io/r5mxv" class="external-link uri">https://doi.org/10.31234/osf.io/r5mxv</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/joonho112" class="external-link">JoonHo Lee</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
